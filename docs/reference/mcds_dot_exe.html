<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Run MCDS.exe as a backend for mrds — MCDS.exe • mrds</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Run MCDS.exe as a backend for mrds — MCDS.exe"><meta name="description" content="Rather than use the R-based detection function fitting algorithms provided in
`mrds`, one can also use the algorithm used by Distance for Windows, implemented
in the binary file `MCDS.exe`.  Note that with changes in R-based optimizer introduced
in `mrds` version 3.0.0 this is unlikely to result in better estimates.
The option remains available, although it may be deprecated in a future release.
To make use of this facility, one must first download the `MCDS.exe` binary, as
laid out below under `Obtaining MCDS.exe`.  Once the binary is installed, calls
to `ddf` will, by default, result in using the model being fit using both `MCDS.exe`
and the R-based algorithm, and the one with lower negative log-likelihood being selected.
In almost all cases, both algorithms produce the same results, but we have found edge
where one or other fails to find the likelihood maximum and hence trying both is useful."><meta property="og:description" content="Rather than use the R-based detection function fitting algorithms provided in
`mrds`, one can also use the algorithm used by Distance for Windows, implemented
in the binary file `MCDS.exe`.  Note that with changes in R-based optimizer introduced
in `mrds` version 3.0.0 this is unlikely to result in better estimates.
The option remains available, although it may be deprecated in a future release.
To make use of this facility, one must first download the `MCDS.exe` binary, as
laid out below under `Obtaining MCDS.exe`.  Once the binary is installed, calls
to `ddf` will, by default, result in using the model being fit using both `MCDS.exe`
and the R-based algorithm, and the one with lower negative log-likelihood being selected.
In almost all cases, both algorithms produce the same results, but we have found edge
where one or other fails to find the likelihood maximum and hence trying both is useful."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mrds</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Function reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/mrds-golftees.html">Point and full independence</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://twitter.com/distancesamp" aria-label="Twitter"><span class="fa fa-twitter"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/DistanceDevelopment/mrds/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Run MCDS.exe as a backend for mrds</h1>
      <small class="dont-index">Source: <a href="https://github.com/DistanceDevelopment/mrds/blob/HEAD/R/mcds_tools.R" class="external-link"><code>R/mcds_tools.R</code></a></small>
      <div class="d-none name"><code>mcds_dot_exe.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Rather than use the R-based detection function fitting algorithms provided in
`mrds`, one can also use the algorithm used by Distance for Windows, implemented
in the binary file `MCDS.exe`.  Note that with changes in R-based optimizer introduced
in `mrds` version 3.0.0 this is unlikely to result in better estimates.
The option remains available, although it may be deprecated in a future release.
To make use of this facility, one must first download the `MCDS.exe` binary, as
laid out below under `Obtaining MCDS.exe`.  Once the binary is installed, calls
to `ddf` will, by default, result in using the model being fit using both `MCDS.exe`
and the R-based algorithm, and the one with lower negative log-likelihood being selected.
In almost all cases, both algorithms produce the same results, but we have found edge
where one or other fails to find the likelihood maximum and hence trying both is useful.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>There may also be cases where the `MCDS.exe` algorithm is faster than the R-based one.
Under this circumstance, you can choose to run only the `MCDS.exe` algorithm via by setting
the `ddf` argument <code>control=list(optimizer='MCDS')</code>.  For completeness, one can also
choose to use only the R-based algorithm by setting <code>control=list(optimizer='R')</code>.</p>
<p>For more information and examples comparing the R-based and `MCDS.exe` algorithms,
see our examples pages at https://examples.distancesampling.org/</p>
<p>If you are running a non-Windows operating system, you can follow the
instructions below to have `MCDS.exe` run using `wine`.</p>
    </div>
    <div class="section level2">
    <h2 id="obtaining-mcds-exe">Obtaining MCDS.exe<a class="anchor" aria-label="anchor" href="#obtaining-mcds-exe"></a></h2>


<p>The following code can be used to download `MCDS.exe` from the distance
sampling website:
<code>download.file("http://distancesampling.org/R/MCDS.exe", paste0(system.file(package="mrds"),"/MCDS.exe"), mode = "wb")</code>
The MCDS binary will be installed to the main directory of your your local R
mrds library. Alternatively, you can copy the `MCDS.exe` from your local
Distance for Windows installation if you prefer. The location of your local
mrds library main directory can be found by running the following in R:
<code>system.file("MCDS.exe", package="mrds")</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="running-mcds-exe-on-non-windows-platforms">Running MCDS.exe on non-Windows platforms<a class="anchor" aria-label="anchor" href="#running-mcds-exe-on-non-windows-platforms"></a></h2>


<p>This has been tentatively tested on a mac but should currently be
considered largely experimental.</p>
<p>One can still use MCDS.exe even if you are running a mac computer. To
do this one will need to install `wine` a Windows emulator. It is important
to use a version of `wine` which can run 32-bit programs.</p>
<p>The package will attempt to work out which `wine` binary to use (and detect
if it is installed), but this doesn't always work. In this case, the
location of the `wine` binary can be specified in the `control` `list`
provided to `ddf` using the `winebin` element or supply the `winebin`
argument to the `ds` function. For example, if `wine` is installed at
`/usr/bin/local/wine` you can set `control$winebin` to that
location to use that binary.</p>
<p>On macOS, this can be achieved using the `homebrew` package management
system and installing the `wine-crossover` package. You may need to change
the <code>control$winebin</code> to be `wine`, `wine64` or `wine32on64`,
depending on your system's setup. This package tries to work out what to
do, but likely doesn't handle all corner cases. Currently this is untested
on Mac M1 systems.</p>
    </div>
    <div class="section level2">
    <h2 id="stopping-using-mcds-exe">Stopping using MCDS.exe<a class="anchor" aria-label="anchor" href="#stopping-using-mcds-exe"></a></h2>


<p>Once this feature is enabled, using `ddf` will by default run both
its built-in R optimizer and `MCDS.exe`. To disable this behaviour, specify which
you wish to use with via the <code>optimizer=</code> option described above.  Alternatively,
if you wish to permanently stop using MCDS.exe, remove
the `MCDS.exe` binary file. You can find which folder it is in by running the following in R:
<code>system.file("MCDS.exe", package="mrds")</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>David L Miller and Jonah McArthur</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>We improve our site and software support by using Microsoft Clarity to see <br> how you use our website. By using our site, you agree that we and Microsoft <br> can collect and use this data. Clarity is GDPR compliant.</p>
</div>

<div class="pkgdown-footer-right">
  <p>If you wish to donate to development and maintenance, please <a href="mailto:distance@st-andrews.ac.uk">email us</a>.</p>
</div>

    </footer></div>





  </body></html>

